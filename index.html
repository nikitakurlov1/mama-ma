<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Інтерактивний аналіз наукової роботи</title>
    <script src="https://apis.google.com/js/api.js"></script>
    <style>
        :root {
            --primary-color: #7357ff;
            --secondary-color: #4e37b3;
            --bg-color: #1a1a2e;
            --surface-color: #242442;
            --text-color: #e4e4e4;
            --shadow: 0 4px 20px rgba(0,0,0,0.3);
            --transition: all 0.3s ease;
        }

        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }

        @media (max-width: 768px) {
        .container {
                grid-template-columns: 1fr;
            }
        }

        .main-content, .history-sidebar {
            background: var(--surface-color);
            padding: 25px;
            border-radius: 20px;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .main-content:hover, .history-sidebar:hover {
            transform: translateY(-5px);
        }

        .button-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }

        .question-container {
            position: relative;
            overflow: hidden;
        }

        .question-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            opacity: 0.1;
            z-index: -1;
        }

        .question {
            font-size: 1.2em;
            margin-bottom: 20px;
            color: var(--text-color);
        }

        .answer {
            position: relative;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            margin-top: 15px;
            transition: all 0.3s ease;
        }

        .answer:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .button {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            transition: var(--transition);
            margin: 5px;
        }

        .button:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(115,87,255,0.3);
        }

        .danger {
            background: #e74c3c;
        }

        .danger:hover {
            background: #c0392b;
        }

        h1 {
            text-align: center;
            color: var(--text-color);
            font-size: 2em;
            margin-bottom: 40px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .history-item {
            position: relative;
            padding: 15px;
            margin: 10px 0;
            background: rgba(255,255,255,0.03);
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .history-item:hover {
            background: rgba(255,255,255,0.05);
            transform: translateX(5px);
        }

        .history-timestamp {
            font-size: 0.8em;
            color: #7f8c8d;
        }

        .history-category {
            font-size: 0.9em;
            color: #7f8c8d;
        }

        .history-question {
            margin-top: 5px;
        }

        .keyword {
            background: var(--surface-color);
            color: var(--text-color);
            border: 1px solid var(--primary-color);
            padding: 8px 15px;
            border-radius: 20px;
            margin: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .keyword:hover {
            background: var(--primary-color);
            transform: scale(1.05);
        }

        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--primary-color);
            animation: loading 1s infinite;
        }

        @keyframes loading {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .tooltip {
            position: absolute;
            background: var(--surface-color);
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.8em;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        .button:hover .tooltip {
            opacity: 1;
        }

        .empty-history {
            text-align: center;
            padding: 20px;
        }

        .statistics {
            margin-top: 20px;
        }

        .prompt-section {
            background: var(--surface-color);
            padding: 25px;
            border-radius: 20px;
            margin-top: 30px;
            box-shadow: var(--shadow);
        }

        .prompt-section h2 {
            color: var(--text-color);
            margin-bottom: 20px;
            text-align: center;
        }

        .prompt-content {
            background: rgba(255,255,255,0.05);
            padding: 20px;
            border-radius: 15px;
            margin-top: 15px;
        }

        .prompt-section .button {
            margin-top: 15px;
        }

        .prompt-category {
            margin-bottom: 15px;
            padding: 10px;
            border-left: 3px solid var(--primary-color);
        }

        .prompt-category h3 {
            color: var(--text-color);
            margin-bottom: 10px;
        }

        .prompt-list {
            list-style: none;
            padding: 0;
        }

        .prompt-list li {
            margin: 5px 0;
            padding: 8px;
            background: rgba(255,255,255,0.03);
            border-radius: 5px;
            cursor: pointer;
            transition: var(--transition);
        }

        .prompt-list li:hover {
            background: rgba(255,255,255,0.05);
            transform: translateX(5px);
        }
    </style>
</head>
<body>
    <h1>Аналіз наукової роботи: "Розвиток когнітивної гнучкості лідерів учнівського самоврядування"</h1>
    
    <div class="container">
        <div class="main-content">
            <div class="button-container">
                <button class="button" id="generateBtn">Згенерувати нове питання</button>
                <button class="button" id="historyBtn">Історія питань</button>
                <button class="button" id="promptBtn">Промпти для аналізу</button>
                <button class="button danger" id="clearBtn">Очистити історію</button>
            </div>
            
            <div id="question-container" class="question-container">
                <div class="question" id="current-question">Оберіть питання вище для початку аналізу</div>
                <div class="answer" id="current-answer"></div>
            </div>

            <div id="prompt-section" class="prompt-section" style="display: none;">
                <h2>Промпти для аналізу роботи</h2>
                <div class="prompt-content">
                    <div class="prompt-category">
                        <h3>Контекст дослідження</h3>
                        <ul class="prompt-list">
                            <li onclick="showPrompt('context')">Основні концепції та їх взаємозв'язок</li>
                            <li onclick="showPrompt('methodology')">Методологія дослідження</li>
                            <li onclick="showPrompt('practical')">Практичне значення роботи</li>
                        </ul>
                    </div>
                    <div class="prompt-category">
                        <h3>Аналітичні питання</h3>
                        <ul class="prompt-list">
                            <li onclick="showPrompt('components')">Компоненти системи самоврядування</li>
                            <li onclick="showPrompt('measurement')">Вимірювання когнітивної гнучкості</li>
                            <li onclick="showPrompt('leadership')">Методи розвитку лідерських якостей</li>
                        </ul>
                    </div>
                    <div class="prompt-category">
                        <h3>Оцінка та перспективи</h3>
                        <ul class="prompt-list">
                            <li onclick="showPrompt('evaluation')">Критерії успішності програми</li>
                            <li onclick="showPrompt('implementation')">Рекомендації щодо впровадження</li>
                            <li onclick="showPrompt('future')">Перспективи подальших досліджень</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="history-sidebar">
            <h3>Історія питань</h3>
            <div id="history-container"></div>
        </div>
    </div>

    <script>
        // Масив для зберігання історії питань
        let questionHistory = [];
        let currentQuestionId = null;

        // Структурированные темы по разделам работы
        const thesisContent = {
            definitions: {
                cognitiveFlexibility: {
                    mainDefinition: "особистісна якість, яка проявляється у здатності людини адаптувати свої пізнавальні процесси та поведінку до нових вимог або неочікуваних подій, що дозволяє їй генерувати широкий спектр креативних ідей, змінювати стратегії дій, переглядати свої позиції, плани та ефективно перемикатися між різними видами діяльності задля досягнення успіху в постійно змінних умовах",
                    leaderDefinition: "особистісна здатність адаптування своїх пізнавальних процесів та поведінки до постійних змін в учнівському колективі, що забезпечує стабільно успішну реалізацію завдань учнівського самоврядування, завдяки прийняттю інакшості учнів, умінню бачити суть проблеми, генерувати широкий спектр креативних ідей, змінювати стратегії дій, переглядати свої позиції, плани та ефективно перемикатися між різними видами діяльності",
                    problem: "негнучкість або когнітна ригідність лідерів проявляється в стереотипному мисленні, 'сліпому' наслідуванні минулого досвіду поведінки, упертому дотриманні свого бачення, нездатності сприймати зміни"
                },
                studentSelfGovernment: {
                    definition: "діяльність, покликана створювати атмосферу партнерства та співробітництва в досягненні спільних цілей",
                    challenges: "значна частка лідерів має низький рівень когнітивної гнучкості",
                    requirements: "постійна адаптація до змін в учнівському колективі"
                }
            },
            research: {
                goal: "обґрунтувати організаційно-педагогічні умови ефективного розвитку когнітивної гнучкості лідерів учнівського самоврядування та розробити цільову програму їх реалізації в освітньому середовищі",
                methods: [
                    "теоретичний аналіз",
                    "емпіричні методи",
                    "статистичні методи",
                    "самостійно розроблені опитувальники",
                    "діагностика"
                ],
                diagnosticResults: {
                    initialResults: {
                        informationalAnalytical: {
                            mainSchool: "55% (11 з 20) лідерів мають низький рівень",
                            branches: "56% (10 з 18) лідерів мають низький рівень"
                        },
                        emotionalMotivational: {
                            mainSchool: "35% (7 з 20) лідерів мають низький рівень",
                            branches: "39% (7 з 18) лідерів мають низький рівень"
                        },
                        operational: {
                            mainSchool: "25% (5 з 20) лідерів мають низький рівень",
                            branches: "33% (6 з 18) лідерів мають низький рівень"
                        }
                    },
                    finalResults: "позитивна динаміка рівнів прояву досліджуваної характеристики в експериментальній групі"
                },
                conditions: [
                    "використання інтерактивних форм та методів підвищення обізнаності",
                    "стимулювання збагачення досвіду позитивно-емоційних переживань",
                    "залучення до спеціально організованої освітньої діяльності"
                ]
            },
            program: {
                name: "Розвиток когнітивної гнучкості лідерів учнівського самоврядування - Cognitive flexibility",
                implementation: {
                    period: "жовтень-грудень 2024 року",
                    location: "Первозванівський ліцей",
                    participants: "члени парламенту опорного закладу"
                },
                components: {
                    theoretical: {
                        description: "шість пізнавально-активних занять",
                        activities: [
                            "порівняння власних узагальнень із судженнями штучного інтелекту",
                            "вправа «Піца для команди із сюрпризом»",
                            "вправа «Розумний дім»",
                            "мінідискусія «Зміна власної позиції»",
                            "воркшоп з презентацією творчих продуктів"
                        ]
                    },
                    practical: {
                        description: "індивідуальна та групова взаємодія учасників",
                        elements: [
                            "виконання завдань адвент-календаря",
                            "проходження інтерактивного тренажеру",
                            "наповнення шкільної бібліотеки емоцій",
                            "проведення коворкінг перерв"
                        ]
                    }
                },
                trainer: {
                    platform: "Genial.ly",
                    content: [
                        "інформаційні повідомлення",
                        "тестові завдання",
                        "відео та аудіо-файли",
                        "вікторини",
                        "загадки",
                        "головоломки",
                        "комікси",
                        "казки",
                        "поради"
                    ]
                }
            },
            criteria: {
                types: [
                    "інформаційно-аналітичний",
                    "емоційно-мотиваційний",
                    "діяльнісний"
                ],
                levels: ["низький", "середній", "високий"],
                indicators: {
                    informational: [
                        "здатність аналізувати інформацію",
                        "вміння визначати особливості ситуації",
                        "здатність бачити суть проблеми",
                        "навички систематизації даних"
                    ],
                    emotional: [
                        "готовність до змін",
                        "позитивне ставлення до проявів гнучкості",
                        "мотивація до розвитку",
                        "прийняття інакшості учнів"
                    ],
                    operational: [
                        "здатність адаптувати пізнавальні процеси",
                        "вміння змінювати стратегії дій",
                        "успішність у створенні партнерства",
                        "ефективне перемикання між видами діяльності"
                    ]
                }
            },
            leadership: {
                definition: "явище групового життя, яке виявляється у наділенні одного індивіда правом здійснювати визначальний вплив на вирішення групових задач",
                qualities: {
                    general: [
                        "компетентність",
                        "активність",
                        "ініціативність",
                        "товариськість",
                        "наполегливість",
                        "самоконтроль",
                        "працездатність",
                        "спостережливість",
                        "самостійність",
                        "організованість"
                    ],
                    specific: [
                        "організаторська проникливість",
                        "здатність до активного психологічного впливу",
                        "схильність до організаторської роботи",
                        "потреба брати відповідальність на себе",
                        "комунікабельність"
                    ]
                },
                development: {
                    age: "молодший підлітковий вік є сенситивним для розвитку лідерських якостей",
                    activities: [
                        "діяльність на посаді президента самоврядування",
                        "робота керівником департаменту",
                        "управління шкільними справами",
                        "організація загальношкільних заходів",
                        "випуск газет та радіопередач"
                    ]
                }
            },
            comparative: {
                leadership_flexibility: {
                    connections: [
                        "обидва аспекти важливі для ефективного управління",
                        "когнітна гнучкість посилює лідерські якості",
                        "лідерство вимагає адаптивності та гнучкості мислення",
                        "розвиток обох якостей можливий через активну діяльність в самоврядуванні"
                    ],
                    differences: [
                        "лідерство фокусується на впливі та керуванні",
                        "когнітна гнучкість зосереджена на адаптації та змінах",
                        "лідерство - соціальний феномен, гнучкість - когнітивний"
                    ]
                }
            },
            implementation: {
                stages: [
                    "Вхідна діагностика",
                    "Реалізація теоретичного компоненту",
                    "Реалізація практичного компоненту",
                    "Підсумкова діагностика"
                ],
                activities: {
                    diagnostic: {
                        tools: [
                            "самостійно розроблені опитувальники",
                            "індивідуальні бесіди",
                            "групові дискусії"
                        ],
                        findings: [
                            "значна частка лідерів має низький рівень когнітивної гнучкості",
                            "третина лідерів скептично ставиться до необхідності проявляти когнітивну гнучкість",
                            "бракує досвіду прояву навичок когнітивної гнучкості"
                        ]
                    },
                    program: {
                        theoretical: {
                            format: "пізнавально-активні заняття з елементами тренінгу та коучингу",
                            exercises: [
                                "Піца для команди із сюрпризом",
                                "Розумний дім",
                                "Зміна власної позиції",
                                "Спільний малюнок",
                                "Збираю смайлики",
                                "Дошка вражень і бажань"
                            ]
                        },
                        practical: {
                            tools: [
                                "адвент-календар",
                                "інтерактивний тренажер",
                                "бібліотека емоцій",
                                "коворкінг перерви"
                            ],
                            outcomes: [
                                "адаптація пізнавальних процесів",
                                "розвиток навичок перемикання між завданнями",
                                "формування здатності змінювати стратегії"
                            ]
                        }
                    }
                }
            },
            results: {
                mainFindings: [
                    "підтверджено ефективність організаційно-педагогічних умов",
                    "розроблено та апробовано програму Cognitive Flexibility",
                    "створено інтерактивний тренажер на платформі Genial",
                    "сформовано бібліотеку емоцій"
                ],
                impact: [
                    "покращення рівня когнітивної гнучкості лідерів",
                    "розвиток здатності адаптуватися до змін",
                    "формування навичок ефективної взаємодії"
                ]
            }
        };

        const juryQuestions = {
            content: {
                title: "Питання щодо змісту дослідження",
                questions: [
                    "У чому ви бачите актуальність вашого дослідження саме сьогодні?",
                    "Яку педагогічну проблему ви намагалися розв'язати?",
                    "Які джерела стали для вас ключовими при написанні роботи?"
                ],
                answers: {
                    actuality: "Актуальність дослідження зумовлена необхідністю розвитку когнітивної гнучкості у лідерів учнівського самоврядування для ефективної адаптації до постійних змін",
                    problem: "Проблема полягає у відсутності системного підходу до розвитку когнітивної гнучкості лідерів учнівського самоврядування",
                    sources: "Ключовими джерелами стали праці з психології когнітивної гнучкості та педагогіки лідерства"
                }
            },
            methodology: {
                title: "Питання про методологію",
                questions: [
                    "Які методи дослідження ви застосовували і чому саме їх?",
                    "Як ви перевіряли достовірність отриманих результатів?"
                ],
                answers: {
                    methods: "Використано комплекс методів: теоретичний аналіз, емпіричні методи, статистичні методи, діагностика",
                    validation: "Достовірність перевірялась шляхом порівняння результатів експериментальної та контрольної груп"
                }
            },
            results: {
                title: "Питання про результати та їх значення",
                questions: [
                    "У чому практична цінність вашої роботи?",
                    "Як результати вашого дослідження можна використати в освітньому процесі?",
                    "Які висновки ви зробили, працюючи над цією темою?"
                ],
                answers: {
                    value: "Розроблено та апробовано програму 'Cognitive Flexibility' для розвитку когнітивної гнучкості лідерів",
                    implementation: "Результати можуть бути впроваджені в роботу учнівського самоврядування інших закладів освіти",
                    conclusions: "Підтверджено ефективність визначених організаційно-педагогічних умов розвитку когнітивної гнучкості"
                }
            },
            understanding: {
                title: "Питання на перевірку розуміння та глибини",
                questions: [
                    "Чим ваше дослідження відрізняється від уже існуючих у цій темі?",
                    "Що було для вас найскладнішим під час написання роботи?"
                ],
                answers: {
                    uniqueness: "Вперше розроблено цілісну програму розвитку когнітивної гнучкості саме для лідерів учнівського самоврядування",
                    challenges: "Найскладнішим було розробити систему критеріїв оцінювання рівня когнітивної гнучкості"
                }
            },
            perspective: {
                title: "Питання про перспективу",
                questions: [
                    "Як ви плануєте розвивати свою тему в майбутньому?",
                    "Чи передбачаєте ви впровадження вашого дослідження на практиці?"
                ],
                answers: {
                    future: "Планується дослідити розвиток когнітивної гнучкості учнів різних вікових категорій",
                    implementation: "Передбачається впровадження програми в інших закладах освіти та адаптація її для різних вікових груп"
                }
            }
        };

        const exampleQuestions = {
            motivation: {
                title: "Мотивація дослідження",
                variations: [
                    "Які труднощі виникали у лідерів при адаптації до змін в учнівському колективі?",
                    "Як впливає когнітна ригідність на ефективність роботи учнівського самоврядування?",
                    "Які конкретні ситуації показали необхідність розвитку когнітивної гнучкості у лідерів?",
                    "Як змінилось ставлення учнів до самоврядування через проблеми з когнітивною гнучкістю лідерів?",
                    "Які альтернативні підходи до розвитку лідерів були розглянуті перед початком дослідження?"
                ]
            },
            goals: {
                title: "Мета та завдання",
                variations: [
                    "Як вибрані завдання дослідження пов'язані з його метою?",
                    "Чому саме ці організаційно-педагогічні умови були обрані для розвитку когнітивної гнучкості?",
                    "Які критерії успішності були визначені для оцінки досягнення мети?",
                    "Як завдання дослідження відображають його практичну спрямованість?",
                    "Які обмеження були враховані при формулюванні мети дослідження?"
                ]
            },
            methodology: {
                title: "Методологія",
                variations: [
                    "Як вибрані методи дослідження вплинули на надійність результатів?",
                    "Чому саме ці критерії оцінювання були найбільш ефективними?",
                    "Які труднощі виникали при проведенні діагностики?",
                    "Як забезпечувалась об'єктивність оцінювання результатів?",
                    "Які інструменти діагностики показали найбільшу ефективність і чому?"
                ]
            },
            program: {
                title: "Програма розвитку",
                variations: [
                    "Які труднощі виникали під час реалізації програми?",
                    "Як змінювалась програма в процесі її апробації?",
                    "Який був зворотний зв'язок від учасників після кожного заняття?",
                    "Чи була в програмі диференціація за віком або досвідом?",
                    "Як забезпечувалась індивідуалізація навчального процесу?"
                ]
            },
            results: {
                title: "Результати дослідження",
                variations: [
                    "Як змінилось ставлення лідерів до самоврядування після проходження програми?",
                    "Які неочікувані результати були отримані в процесі дослідження?",
                    "Як результати дослідження вплинули на подальший розвиток програми?",
                    "Які фактори найбільше вплинули на ефективність програми?",
                    "Які перспективи подальшого розвитку програми виявились після її апробації?"
                ]
            }
        };

        const prompts = {
            context: {
                title: "Основні концепції та їх взаємозв'язок",
                content: `КОНТЕКСТ:
--------------------
Це наукова робота про самоврядування, лідерство, когнітивність, освіта. 
Основні теми роботи включають: учнівського, самоврядування, гнучкості, когнітивної, лідерів.

Ключові тези роботи:
- Когнітна гнучкість лідерів - особистісна здатність адаптування пізнавальних процесів та поведінки
- Рівні розвитку: низький (5-11 балів), середній (12-19 балів), високий (20-25 балів)
- Програма "Cognitive Flexibility" спрямована на розвиток когнітивної гнучкості
- Основний внесок: уточнення понять, визначення критеріїв, обґрунтування умов розвитку`
            },
            methodology: {
                title: "Методологія дослідження",
                content: `МЕТОДОЛОГІЯ:
--------------------
1. Критерії оцінювання:
- інформаційно-аналітичний
- емоційно-мотиваційний
- діяльнісний

2. Методи дослідження:
- теоретичний аналіз
- емпіричні методи
- статистичні методи
- діагностика

3. Організаційно-педагогічні умови:
- використання інтерактивних форм
- стимулювання позитивних переживань
- залучення до спеціальної діяльності`
            },
            practical: {
                title: "Практичне значення роботи",
                content: `ПРАКТИЧНЕ ЗНАЧЕННЯ:
--------------------
1. Розроблено програму "Cognitive Flexibility":
- теоретичний компонент (6 занять)
- практичний компонент (інтерактивні вправи)
- інноваційні методи

2. Створено інструменти:
- інтерактивний тренажер
- бібліотека емоцій
- адвент-календар

3. Рекомендації щодо впровадження:
- адаптація до різних закладів
- диференціація за віком
- системний підхід до розвитку`
            },
            relevance: {
                title: "Актуальність дослідження",
                content: `АКТУАЛЬНІСТЬ:
--------------------
1. Проблеми в учнівському самоврядуванні:
- ігнорування та байдужість учнів до діяльності
- невикористання можливостей самоврядування в повній мірі

2. Причини проблем:
- негнучкість або когнітна ригідність лідерів
- стереотипне мислення
- "сліпе" наслідування минулого досвіду
- упертість у дотриманні свого бачення
- нездатність сприймати зміни

3. Наслідки:
- втрата довіри та підтримки лідерами
- неефективність роботи учнівського самоврядування`
            },
            criteria: {
                title: "Критерії розвитку когнітивної гнучкості",
                content: `КРИТЕРІЇ:
--------------------
1. Інформаційно-аналітичний:
- розуміє зміст когнітивної гнучкості
- знає про можливості її використання
- аргументовано доводить переваги
- розуміє адаптацію мислення
- знає способи визначення пріоритетів

2. Емоційно-мотиваційний:
- готовність до змін
- позитивне ставлення до проявів гнучкості
- мотивація до розвитку
- прийняття інакшості учнів

3. Діяльнісний:
- здатність адаптувати пізнавальні процеси
- вміння змінювати стратегії дій
- успішність у створенні партнерства
- ефективне перемикання між видами діяльності`
            },
            program: {
                title: "Програма розвитку",
                content: `ПРОГРАМА:
--------------------
1. Теоретичний компонент:
- 6 пізнавально-активних занять
- порівняння з судженнями ШІ
- вправи "Піца для команди"
- мінідискусії про зміну позиції
- воркшоп з презентацією продуктів

2. Практичний компонент:
- адвент-календар із завданнями
- інтерактивний тренажер
- бібліотека емоцій
- коворкінг перерви

3. Емоційний відгук:
- позитивні емоції учасників
- задоволення від прояву гнучкості
- ситуації успіху
- збагачення досвіду переживань`
            },
            results: {
                title: "Результати дослідження",
                content: `РЕЗУЛЬТАТИ:
--------------------
1. Ефективність програми:
- позитивна динаміка в експериментальній групі
- покращення показників за всіма критеріями
- розвиток навичок адаптації

2. Зміни в закладі:
- активізація діяльності самоврядування
- покращення взаємодії між учнями
- створення нових форм роботи

3. Практичні досягнення:
- створено інтерактивний тренажер
- сформовано бібліотеку емоцій
- розроблено методичні рекомендації`
            }
        };

        function generateSmartQuestion() {
            const categories = Object.keys(exampleQuestions);
            let attempts = 0;
            const maxAttempts = 10;
            let questionObj;
            let usedCategories = new Set();

            do {
                const availableCategories = categories.filter(cat => !usedCategories.has(cat));
                if (availableCategories.length === 0) {
                    usedCategories.clear();
                }
                
                const category = availableCategories[Math.floor(Math.random() * availableCategories.length)];
                const variations = exampleQuestions[category].variations;
                const question = variations[Math.floor(Math.random() * variations.length)];
                
                questionObj = {
                        id: Date.now(),
                        question: question,
                    category: exampleQuestions[category].title,
                    timestamp: new Date().toLocaleString()
                };
                
                usedCategories.add(category);
                attempts++;
            } while (isQuestionRepeated(questionObj.question) && attempts < maxAttempts);

            return questionObj;
        }

        function isQuestionRepeated(newQuestion) {
            // Проверяем последние 5 вопросов в истории
            const recentQuestions = questionHistory.slice(0, 5);
            return recentQuestions.some(q => q.question === newQuestion);
        }

        function showLoading() {
            const loading = document.createElement('div');
            loading.className = 'loading';
            document.body.appendChild(loading);
            setTimeout(() => loading.remove(), 1000);
        }

        function addTooltip(element, text) {
            const tooltip = document.createElement('div');
            tooltip.className = 'tooltip';
            tooltip.textContent = text;
            element.appendChild(tooltip);
        }

        function animateAnswer(answer) {
            const words = answer.split(' ');
            let html = '';
            words.forEach((word, index) => {
                html += `<span style="animation-delay: ${index * 0.05}s">${word} </span>`;
            });
            return html;
        }

        function generateAnswer(question) {
            showLoading();
            const keywords = question.toLowerCase();
            let answer = '';

            if (keywords.includes('мотиваці') || keywords.includes('чому важливо')) {
                answer = 'Мотивація дослідження обумовлена наступними факторами:\n\n' +
                        '1. Проблеми в учнівському самоврядуванні:\n' +
                        '- ігнорування та байдужість учнів до діяльності\n' +
                        '- невикористання можливостей самоврядування в повній мірі\n\n' +
                        '2. Причини проблем:\n' +
                        '- негнучкість або когнітна ригідність лідерів\n' +
                        '- стереотипне мислення\n' +
                        '- "сліпе" наслідування минулого досвіду\n' +
                        '- упертість у дотриманні свого бачення\n' +
                        '- нездатність сприймати зміни в інтересах інших учнів\n\n' +
                        '3. Наслідки:\n' +
                        '- втрата довіри та підтримки лідерами\n' +
                        '- неефективність роботи учнівського самоврядування';
            } else if (keywords.includes('мета') || keywords.includes('завдання')) {
                answer = 'Мета дослідження:\n\n' +
                        'Обґрунтувати організаційно-педагогічні умови ефективного розвитку когнітивної гнучкості лідерів учнівського самоврядування та розробити цільову програму їх реалізації в освітньому середовищі.\n\n' +
                        'Завдання дослідження:\n' +
                        '1. Уточнити поняття "когнітна гнучкість" та "когнітна гнучкість лідерів учнівського самоврядування"\n' +
                        '2. Визначити критерії та показники розвитку когнітивної гнучкості\n' +
                        '3. Провести діагностику наявного стану розвитку когнітивної гнучкості\n' +
                        '4. Обґрунтувати організаційно-педагогічні умови розвитку\n' +
                        '5. Розробити та апробувати програму розвитку';
            } else if (keywords.includes('метод') || keywords.includes('діагностик')) {
                answer = 'Методологія дослідження:\n\n' +
                        '1. Методи дослідження:\n' +
                        '- теоретичний аналіз\n' +
                        '- емпіричні методи\n' +
                        '- статистичні методи\n' +
                        '- діагностика\n\n' +
                        '2. Критерії оцінювання:\n' +
                        '- інформаційно-аналітичний\n' +
                        '- емоційно-мотиваційний\n' +
                        '- діяльнісний\n\n' +
                        '3. Діагностичні методики:\n' +
                        '- самостійно розроблені опитувальники\n' +
                        '- індивідуальні бесіди\n' +
                        '- групові дискусії';
            } else if (keywords.includes('програм') || keywords.includes('компонент')) {
                answer = 'Програма "Cognitive Flexibility":\n\n' +
                        '1. Теоретичний компонент:\n' +
                        '- 6 пізнавально-активних занять\n' +
                        '- тренінги та коучинг-сесії\n' +
                        '- інтерактивні форми роботи\n\n' +
                        '2. Практичний компонент:\n' +
                        '- адвент-календар із завданнями\n' +
                        '- інтерактивний тренажер на Genial.ly\n' +
                        '- бібліотека емоцій\n' +
                        '- коворкінг перерви\n\n' +
                        '3. Інноваційні методи:\n' +
                        '- порівняння з судженнями ШІ\n' +
                        '- вправи "Піца для команди"\n' +
                        '- техніка "Трикутник Волта Діснея"\n' +
                        '- практика "13 кроків"';
            } else if (keywords.includes('результат') || keywords.includes('ефективність')) {
                answer = 'Результати дослідження:\n\n' +
                        '1. Позитивні зміни:\n' +
                        '- покращення рівня когнітивної гнучкості\n' +
                        '- розвиток адаптивності до змін\n' +
                        '- формування навичок ефективної взаємодії\n\n' +
                        '2. Ефективність програми:\n' +
                        '- позитивна динаміка в експериментальній групі\n' +
                        '- відсутність значних змін у контрольній групі\n' +
                        '- підтвердження ефективності організаційно-педагогічних умов\n\n' +
                        '3. Практичні досягнення:\n' +
                        '- створено інтерактивний тренажер\n' +
                        '- сформовано бібліотеку емоцій\n' +
                        '- розроблено методичні рекомендації';
            }

            return `<div class="animated-answer">${animateAnswer(answer)}</div>`;
        }

        function generateQuestion() {
            const questionObj = generateSmartQuestion();
            const answer = generateAnswer(questionObj.question);
            
            questionHistory.unshift({...questionObj, answer});
            localStorage.setItem('questionHistory', JSON.stringify(questionHistory));

            displayQuestion(questionObj, answer);
            updateHistoryDisplay();
        }

        function generateJuryQuestion() {
            const categories = Object.keys(juryQuestions);
            const category = categories[Math.floor(Math.random() * categories.length)];
            const questionSet = juryQuestions[category];
            const questionIndex = Math.floor(Math.random() * questionSet.questions.length);
            
            return {
                id: Date.now(),
                category: questionSet.title,
                question: questionSet.questions[questionIndex],
                answer: Object.values(questionSet.answers)[Math.floor(questionIndex)],
                timestamp: new Date().toLocaleString()
            };
        }

        function displayQuestion(questionObj, answer) {
            const container = document.getElementById('question-container');
            container.innerHTML = `
                <div class="question">
                    <div style="color: #7f8c8d; font-size: 0.9em; margin-bottom: 5px;">
                        ${questionObj.timestamp}
                    </div>
                    ${questionObj.question}
                </div>
                <div class="answer">${answer}</div>
            `;
            currentQuestionId = questionObj.id;
        }

        function showMyQuestions() {
                updateHistoryDisplay();
        }

        function updateHistoryDisplay() {
            const historyContainer = document.getElementById('history-container');
            if (questionHistory.length === 0) {
                historyContainer.innerHTML = '<div class="empty-history">Історія питань порожня</div>';
                return;
            }
            
            historyContainer.innerHTML = questionHistory.map((q, index) => `
                <div class="history-item" onclick="displayQuestion(questionHistory[${index}], questionHistory[${index}].answer)">
                    <div class="history-timestamp">${q.timestamp}</div>
                    <div class="history-category">${q.category}</div>
                    <div class="history-question">${q.question}</div>
                </div>
            `).join('');

            // Добавляем анимацию к новым элементам
            const newItems = historyContainer.querySelectorAll('.history-item');
            newItems.forEach((item, index) => {
                item.style.animationDelay = `${index * 0.1}s`;
            });
        }

        function clearHistory() {
            if (confirm('Ви впевнені, що хочете очистити всю історію питань?')) {
                questionHistory = [];
                localStorage.removeItem('questionHistory');
                updateHistoryDisplay();
                document.getElementById('question-container').innerHTML = `
                    <div class="question">Оберіть питання вище для початку аналізу</div>
                    <div class="answer"></div>
                `;
                currentQuestionId = null;
            }
        }

        function updateKeywordsCloud() {
            const keywordsCloud = document.getElementById('keywordsCloud');
            const keywords = [
                'Когнітна гнучкість',
                'Лідерство',
                'Методологія',
                'Результати',
                'Програма розвитку',
                'Діагностика',
                'Практичні вправи',
                'Тренажер',
                'Адвент-календар',
                'Критерії оцінювання'
            ];
            
            keywordsCloud.innerHTML = keywords.map(keyword => 
                `<button class="keyword" onclick="generateKeywordQuestion('${keyword}')">${keyword}</button>`
            ).join('');
        }

        function generateKeywordQuestion(keyword) {
            let question = '';
            let answer = '';
            
            switch(keyword) {
                case 'Когнітна гнучкість':
                    question = 'Що таке когнітна гнучкість лідерів учнівського самоврядування?';
                    answer = 'Когнітна гнучкість лідерів учнівського самоврядування – це особистісна здатність адаптування своїх пізнавальних процесів та поведінки до постійних змін в учнівському колективі, що забезпечує:\n' +
                    '1) стабільно успішну реалізацію завдань;\n' +
                    '2) прийняття інакшості учнів;\n' +
                    '3) вміння бачити суть проблеми;\n' +
                    '4) генерування креативних ідей;\n' +
                    '5) здатність змінювати стратегії дій.\n\n' +
                    'Діагностика проводилась за трьома критеріями:\n' +
                    '- інформаційно-аналітичний\n' +
                    '- емоційно-мотиваційний\n' +
                    '- діяльнісний';
                    break;

                case 'Програма розвитку':
                    question = 'Опишіть програму "Cognitive Flexibility" та її компоненти';
                    answer = 'Програма "Cognitive Flexibility" включає:\n\n' +
                    '1. Теоретичний компонент:\n' +
                    '- 6 пізнавально-активних занять\n' +
                    '- тренінги та коучинг-сесії\n' +
                    '- інтерактивні форми роботи\n\n' +
                    '2. Практичний компонент:\n' +
                    '- адвент-календар із щотижневими завданнями\n' +
                    '- інтерактивний тренажер на платформі Genial.ly\n' +
                    '- наповнення бібліотеки емоцій\n' +
                    '- коворкінг перерви\n\n' +
                    '3. Інноваційні методи:\n' +
                    '- порівняння власних узагальнень із судженнями штучного інтелекту\n' +
                    '- вправи "Піца для команди із сюрпризом"\n' +
                    '- техніка "Трикутник Волта Діснея"\n' +
                    '- практика "13 кроків стійкого руху в змінах"';
                    break;

                case 'Діагностика':
                    question = 'Які результати діагностики були отримані?';
                    answer = 'Результати діагностики показали:\n\n' +
                    '1. Вхідна діагностика:\n' +
                    '- 55% лідерів мали низький рівень за інформаційно-аналітичним критерієм\n' +
                    '- 37% показали низький рівень за емоційно-мотиваційним критерієм\n' +
                    '- 29% демонстрували низький рівень за діяльнісним критерієм\n\n' +
                    '2. Виявлені проблеми:\n' +
                    '- скептичне ставлення до необхідності проявляти когнітивну гнучкість\n' +
                    '- складність адаптації пізнавальних процесів\n' +
                    '- брак досвіду створення партнерства\n\n' +
                    '3. Після впровадження програми:\n' +
                    '- позитивна динаміка в експериментальній групі\n' +
                    '- покращення показників за всіма критеріями\n' +
                    '- розвиток навичок адаптації до змін';
                    break;

                case 'Практичні вправи':
                    question = 'Які практичні вправи використовувались для розвитку когнітивної гнучкості?';
                    answer = 'У програмі використовувались різноманітні практичні вправи:\n\n' +
                    '1. Тренінгові вправи:\n' +
                    '- "Спільний малюнок" для розвитку взаємодії\n' +
                    '- "Збираю смайлики" для розвитку емпатії\n' +
                    '- "Точка опори" для адаптації до змін\n' +
                    '- "Дошка вражень і бажань" для рефлексії\n\n' +
                    '2. Коучингові техніки:\n' +
                    '- техніка GROW для постановки цілей\n' +
                    '- "Трикутник Волта Діснея" для креативності\n' +
                    '- практика "13 кроків" для управління змінами\n\n' +
                    '3. Групові активності:\n' +
                    '- мінідискусії про зміну позиції\n' +
                    '- обмін думками про перемикання між завданнями\n' +
                    '- воркшоп з презентацією творчих продуктів';
                    break;

                case 'Результати':
                    question = 'Які основні результати та висновки дослідження?';
                    answer = 'Основні результати дослідження:\n\n' +
                    '1. Теоретичні здобутки:\n' +
                    '- уточнено поняття когнітивної гнучкості лідерів\n' +
                    '- розроблено систему критеріїв оцінювання\n' +
                    '- обґрунтовано організаційно-педагогічні умови\n\n' +
                    '2. Практичні досягнення:\n' +
                    '- створено та апробовано програму "Cognitive Flexibility"\n' +
                    '- розроблено інтерактивний тренажер\n' +
                    '- сформовано бібліотеку емоцій\n\n' +
                    '3. Експериментальні дані:\n' +
                    '- підтверджено ефективність програми\n' +
                    '- зафіксовано позитивну динаміку розвитку\n' +
                    '- виявлено покращення лідерських якостей\n\n' +
                    '4. Перспективи:\n' +
                    '- можливість впровадження в інших закладах\n' +
                    '- розвиток програми для різних вікових груп\n' +
                    '- створення методичних рекомендацій';
                    break;
            }
        }

        function showPrompt(type) {
            const prompt = prompts[type];
            if (prompt) {
                const container = document.getElementById('question-container');
                container.innerHTML = `
                    <div class="question">
                        <div style="color: #7f8c8d; font-size: 0.9em; margin-bottom: 5px;">
                            ${new Date().toLocaleString()}
                        </div>
                        ${prompt.title}
                    </div>
                    <div class="answer">
                        <pre style="white-space: pre-wrap;">${prompt.content}</pre>
                    </div>
                `;
            }
        }

        // Активация кнопок
        document.getElementById('generateBtn').addEventListener('click', generateQuestion);
        document.getElementById('historyBtn').addEventListener('click', showMyQuestions);
        document.getElementById('clearBtn').addEventListener('click', clearHistory);
        document.getElementById('promptBtn').addEventListener('click', function() {
            const promptSection = document.getElementById('prompt-section');
            promptSection.style.display = promptSection.style.display === 'none' ? 'block' : 'none';
        });

        // Инициализация при загрузке страницы
        window.onload = function() {
            const savedHistory = localStorage.getItem('questionHistory');
            if (savedHistory) {
                questionHistory = JSON.parse(savedHistory);
                updateHistoryDisplay();
            }
            updateKeywordsCloud();

            // Добавляем подсказки к кнопкам
            addTooltip(document.getElementById('generateBtn'), 'Згенерувати нове питання');
            addTooltip(document.getElementById('historyBtn'), 'Переглянути історію');
            addTooltip(document.getElementById('clearBtn'), 'Очистити історію');
            addTooltip(document.getElementById('promptBtn'), 'Показати промпти');
        };
    </script>
</body>
</html>
